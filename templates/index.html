<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Image Resizer App</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card p-4 shadow-lg">
        <h3 class="text-center mb-3">Image Resizer</h3>

        <form method="POST" enctype="multipart/form-data">
            <!-- Image Upload -->
            <input type="file" name="image" class="form-control mb-3" required>

            <!-- Image Preview -->
            <img id="preview" class="img-fluid mb-3 d-none rounded" />

            <!-- Width & Height -->
            <input type="number" name="width" class="form-control mb-2" placeholder="Width (px)" required>
            <input type="number" name="height" class="form-control mb-2" placeholder="Height (px)" required>

            <!-- Preset Sizes -->
            <div class="mb-3 text-center">
                <button type="button" class="btn btn-outline-secondary btn-sm"
                        onclick="setSize(1080,1080)">Instagram</button>
                <button type="button" class="btn btn-outline-secondary btn-sm"
                        onclick="setSize(413,531)">Passport</button>
                <button type="button" class="btn btn-outline-secondary btn-sm"
                        onclick="setSize(800,800)">Square</button>
            </div>

            <!-- Aspect Ratio -->
            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" name="ratio" id="ratio">
                <label class="form-check-label" for="ratio">
                    Maintain Aspect Ratio
                </label>
            </div>

            <!-- Submit -->
            <button class="btn btn-primary w-100">Resize & Download</button>
        </form>
    </div>
</div>

<!-- JavaScript -->
<script>
    // Image Preview
    const input = document.querySelector('input[type="file"]');
    const preview = document.getElementById('preview');

    input.addEventListener('change', () => {
        const file = input.files[0];
        if (file) {
            preview.src = URL.createObjectURL(file);
            preview.classList.remove('d-none');
        }
    });

    // Preset Size Function
    function setSize(w, h) {
        document.querySelector('[name="width"]').value = w;
        document.querySelector('[name="height"]').value = h;
    }
</script>

</body>
</html>
